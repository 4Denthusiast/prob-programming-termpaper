% !TEX root = main.tex
\section{Related work and further directions}

\lo{TODO. Related work (.75 column). Discuss \cite{DBLP:conf/birthday/BlancLM05}.}

\label{sec:related}
We have not yet been able to prove our conjecture that every term is antitone rankable if all of the terms reachable from it are AST, which would imply that \Cref{thm:antitone rankable implies termination} is almost complete.

The definition \label{def:more general red} of redexes and which positions are acceptable to reduce at is sufficiently restrictive to guarantee Church-Rosserness, but is also a little more restrictive in some cases than is necessary for this purpose. For example, if the argument of a function is not yet a value, but its reduction to a value would be deterministic, or the function is affine, then applying the function before reducing its argument would not cause any problematic duplication of random samples. Similarly, if $\tsample$ occurs at position $\alpha;@_2;\beta;\lambda;\gamma$, but the function at $\alpha;@_1$ is affine, evaluatinf the $\tsample$ may in some cases also work fine. A more complete characterisation of which redexes can be reduced without breaking Church-Rosserness could be interesting.

Although this is a broadly applicable method of proving almost sure termination of probabilistic functional programs, and \Cref{thm:antitone partial implies rankable,thm:confluent ranking} make it more convenient to use, some method of automating the construction and checking of (antitone) ranking functions, even partially, could make it considerably more practically useful, especially in cases where almost sure termination is merely a side-condition for some other theorem or algorithm to be applicable.
